# Magisk模块说明 - 目录定向挂载

## 基本信息

- **模块名称**：MAT - 目录定向挂载
- **版本**：2.6
- **作者**：HChai、时雨🌌星空、帅气的小懒猫

## 功能介绍

这是一个强大的目录定向挂载工具（存储重定向），可以帮助用户将应用程序的数据目录挂载到指定位置，实现更好的文件管理和访问控制。

## 主要特点

1. **自定义挂载规则**：用户可以自定义将任何应用的数据目录挂载到指定位置
2. **集中管理**：所有被挂载的应用数据会统一显示在一个共享目录中，方便管理
3. **在线规则更新**：支持在线更新挂载规则和模块
4. **延迟启动**：可设置开机后延迟启动时间，确保系统稳定后再执行挂载
5. **媒体扫描控制**：可选择是否允许媒体扫描挂载的目录
6. **文件权限锁定**：解决打开文件报错的问题

## 配置文件说明

配置文件位于：`/data/media/0/Android/Hcfile_sharing/配置文件.conf`

### 配置参数

- **应用数据路径**：默认为`/data/media/0/Android/data`
- **根路径**：默认为`/data/media/0`
- **调试模式**：可开启获取详细日志
- **延迟时间**：开机后延迟启动的时间（秒）
- **根文件夹**：默认为"共享目录"，所有挂载点都在此目录下
- **在线规则**：是否启用在线规则更新
- **媒体扫描**：控制是否屏蔽媒体扫描
- **锁定文件权限**：解决文件打开报错问题

## 使用方法

### 挂载规则格式

```
[目标目录名|子目录名|源路径]
```

### 示例

要将QQ的下载文件夹挂载到共享目录下的"QQ目录/下载"，配置如下：

```
[QQ目录|下载|应用数据路径/com.tencent.mobileqq/Tencent/QQfile_recv]
```

## 日志和状态

- 挂载日志位于：`/data/media/0/Android/Hcfile_sharing/挂载日志.log`
- 调试日志（如果开启）：`/data/media/0/Android/Hcfile_sharing/调试日志.log`
- 模块状态可在Magisk管理器中查看

## 模块文件

所有模块相关文件可在`共享目录/模块详细/`文件夹中查看

## 注意事项

1. 修改配置后需要重启手机或重新加载模块
2. 如遇到文件打开报错，请开启"锁定文件权限"选项
3. 首次安装后请检查配置文件并按需修改

## 卸载说明

通过Magisk管理器卸载模块后，所有挂载点将会自动解除挂载，模块相关配置文件将被删除。 